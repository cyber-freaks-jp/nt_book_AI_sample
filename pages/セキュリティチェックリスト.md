# セキュリティチェックリスト

AI駆動開発を安全に実践するために、これまで学んだセキュリティ対策を実際に適用できているか確認しましょう。

---

## 1. リスク理解のチェックリスト

### リスク1：情報漏洩

- [ ] ChatGPTなどのクラウドLLMを利用する際、AIに渡した情報がOpenAIなどの外部サーバーに送信されることを理解している
- [ ] AIに渡したデータは学習データとして使われ、最悪の場合インターネット上に公開される可能性を理解している

### リスク2：データや環境の破壊

- [ ] AIが破壊的なコード（`rm -rf /`、`DROP DATABASE`等）を実行する可能性を理解している
- [ ] データベースの削除・変更、ファイルシステムの破壊、外部API実行などが行われる可能性があることを理解している

### リスク3：意図せぬコード生成

- [ ] SQLインジェクションなど、脆弱性を含むコードをAIが生成するリスクを理解している
- [ ] 要件や仕様にマッチしないコードが生成されることを理解している

---

## 2. サンドボックス環境のチェックリスト

### どんな環境でAIを動かしているか？

- [ ] Dockerなど隔離されたサンドボックス環境でのみAIを使用している
- [ ] その環境は、本番DB・本番サーバーへの通信が完全に遮断されている(SSHも出来ない。本番APIも実行できない)
- [ ] その環境は、いつでも作り直せる使い捨て環境である
- [ ] ローカルPCのOS上に直にAIをインストールするのは危険なことを知っており、Dockerなどのサンドボックス上でAIを動かしている
### 機密情報のマスキングを徹底している

サンドボックス環境に持ち込むデータは、必ず機密情報を除外またはマスキング(データの塗りつぶし)をしているか？

- [ ] データベース
- [ ] ログファイル
- [ ] .envなどの環境変数

---

## 3. LLM選定のチェックリスト

- [ ] LLMの提供方法には「クラウド型」「VPC型」「オンプレミス型」などの種類があることを理解している
- [ ] どのLLMを使うべきかのポリシーが明確に定まっている
- [ ] DeepSeekなど中国製のLLMプロバイダーを使用していない

---

## 4. AIツールのセキュリティ設定チェックリスト

### AIツールの設定で、学習データとして使用されない設定を有効化している

- [ ] 使用しているAIツールで「学習データとして使用しない」設定を有効化している
- [ ] 使用統計や診断データの送信を無効化している
- [ ] 設定だけでは完全ではないことを理解し、そもそも機密情報をAIに渡さないことを徹底している

### 機密ファイルの除外設定を行っている

- [ ] 使用しているAIツールで機密ファイルを除外する設定ファイル（`.cursorignore`等）を適切に設定している
	- [ ] 環境変数ファイル（`.env`、`.env.*`）を除外している
	- [ ] 秘密鍵（`.pem`、`.key`、`id_rsa`）を除外している
	- [ ] 認証情報（`credentials.json`、`secrets.yml`）を除外している
	- [ ] 本番のデータベース設定（`database.yml等`）を除外している
	- [ ] 証明書ファイル（`.p12`）を除外している
- [ ] 設定だけでは完全ではないことを理解し、そもそも機密情報をAIの目の届く場所に置かないことを徹底している
### AIの操作権限を必要最小限に制限している

#### サンドボックス環境以外の場合

- [ ] 使用しているAIツールで操作権限を制限する設定（.claude/settings.json等）を行っている
- [ ] 制限する動作は、sudo, rm, sshなど現場ごとにポリシーが定められている

#### サンドボックス環境の場合

- [ ] 適切なサンドボックス環境上であれば、むしろAIの操作制限はせずに全許可設定した方が生産性が高まることを理解している

---

## 5. コードレビューとテストのチェックリスト

- [ ] AIが生成したコードは、SQLインジェクションなどのリスクが発生する可能性があることを理解している
- [ ] AIが生成したコードは、仕様や要件を満たしていない可能性があることを理解している
- [ ] AIにレビューさせるのは有効だが、最終的には人間が100%レビューしている
- [ ] AIにテストさせるのは有効だが、最終的には人間が100%テストしている
- [ ] AIが生成したコードは、あなたが責任を持ってレビューやテストをする必要がある。つまり、全責任はあなたにあることを理解している。

---

## 必ずやること

このチェックリストはあくまで一般的なものです
現場ごとに最適なルールを協議・策定しましょう
